# ENACT Hyku - Heroku Environment Variables Template
# Copy this file and configure for your Heroku deployment
# Set these variables in Heroku using: heroku config:set VAR_NAME=value

# === REQUIRED Configuration ===

# Rails Configuration
RAILS_ENV=production
RAILS_LOG_TO_STDOUT=true
RAILS_SERVE_STATIC_FILES=true
SECRET_KEY_BASE=generate_with_rails_secret

# Hyku Multi-tenancy Configuration
HYKU_ADMIN_HOST=admin-enact.herokuapp.com
HYKU_ROOT_HOST=enact.herokuapp.com
HYKU_MULTITENANT=true
HYKU_ADMIN_ONLY_TENANT_CREATION=true

# Database (Automatically set by Heroku PostgreSQL addon)
# DATABASE_URL=postgres://...

# Redis (Automatically set by Heroku Redis addon)
# REDIS_URL=redis://...

# === EXTERNAL SERVICES (REQUIRED) ===

# Fedora Repository - Must be externally hosted
# Options:
# - DuraCloud (https://duracloud.org/)
# - Self-hosted Fedora on separate server
# - AWS/Digital Ocean hosted Fedora instance
FEDORA_URL=https://your-fedora-instance.com/fcrepo/rest
# If Fedora requires authentication:
# FEDORA_USER=fedoraAdmin
# FEDORA_PASSWORD=your_password

# Solr Search Index - Must be externally hosted
# Options:
# - Websolr Heroku addon: heroku addons:create websolr
# - Self-hosted Solr
# - AWS/Digital Ocean hosted Solr
SOLR_URL=https://your-solr-instance.com/solr/hyku
# If using Websolr addon, URL will be set automatically as WEBSOLR_URL

# === FILE STORAGE (REQUIRED) ===

# AWS S3 Configuration for file uploads
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_BUCKET=enact-hyku-production

# Alternative: Use Heroku's ephemeral filesystem (NOT RECOMMENDED for production)
# File uploads will be lost on dyno restart

# === EMAIL CONFIGURATION (RECOMMENDED) ===

# SMTP Configuration (use SendGrid, Mailgun, or similar)
# For SendGrid addon: heroku addons:create sendgrid:starter
SMTP_ADDRESS=smtp.sendgrid.net
SMTP_PORT=587
SMTP_DOMAIN=yourdomain.com
SMTP_USER_NAME=apikey
SMTP_PASSWORD=your_sendgrid_api_key
SMTP_AUTHENTICATION=plain
SMTP_ENABLE_STARTTLS_AUTO=true

# Email sender address
HYKU_CONTACT_EMAIL=repository@yourdomain.com
HYKU_CONTACT_EMAIL_TO=admin@yourdomain.com

# === OPTIONAL Services ===

# Google Analytics
# GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X

# GeoNames for location autocomplete (register at geonames.org)
# GEONAMES_USERNAME=your_geonames_username

# ORCID Integration (register at orcid.org)
# ORCID_CLIENT_ID=your_client_id
# ORCID_CLIENT_SECRET=your_client_secret

# DOI Service (DataCite or similar)
# DATACITE_MODE=production
# DATACITE_PREFIX=10.12345
# DATACITE_USERNAME=your_datacite_username
# DATACITE_PASSWORD=your_datacite_password

# === WORKER CONFIGURATION ===

# Sidekiq workers (number of threads)
SIDEKIQ_CONCURRENCY=5
SIDEKIQ_QUEUES=default,high,low

# === PERFORMANCE & SCALING ===

# Puma web server configuration
WEB_CONCURRENCY=2
RAILS_MAX_THREADS=5

# Asset host (use CDN if available)
# ASSET_HOST=https://cdn.yourdomain.com

# === SECURITY ===

# Force SSL in production
FORCE_SSL=true

# Session store (default is cookie_store)
# SESSION_STORE=redis_store

# CORS configuration (if API access needed)
# CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# === DEVELOPMENT/DEBUGGING (DO NOT USE IN PRODUCTION) ===

# Enable detailed error pages (NEVER in production!)
# DEVELOPER_MODE=false

# Enable SQL query logging
# ACTIVE_RECORD_VERBOSE_QUERY_LOGS=false
